#include    "../ti83plus.inc"
.org        $4000

   .db 080h,00Fh										;Field: Program length 
   .db 00h,00h,00h,00h									;Length=0 
   .db 080h,012h										;Field: Program type 
   .db 01h,04h										;Type= Shareware, TI-83Plus 
   .db 080h,021h										;Field: App ID 
   .db 01h											;Id = 1 
   .db 080h,031h										;Field: App Build 
   .db 01h											;Build = 1 
   .db 080h,048h										;Field: App Name 
   .db "BootCode"					;Name
   .db 080h, 081h										;Field: Number of pages
   .db 003h											;Pages: 3
   .db 080h, 090h										;Field: Security data
   .db 003h, 026h, 009h, 004h								;Start of security data used with signing
   .db 013h, 069h, 0DBh, 04Bh
   .db 002h, 00Dh, 040h, 0A1h, 06Bh, 099h, 0F6h, 059h, 0BCh, 067h
   .db 0F5h, 085h, 09Ch, 009h, 06Ch, 00Fh, 0B4h, 003h, 09Bh, 0C9h
   .db 003h, 032h, 02Ch, 0E0h, 003h, 020h, 0E3h, 02Ch, 0F4h, 02Dh
   .db 073h, 0B4h, 027h, 0C4h, 0A0h, 072h, 054h, 0B9h, 0EAh, 07Ch
   .db 03Bh, 0AAh, 016h, 0F6h, 077h, 083h, 07Ah, 0EEh, 01Ah, 0D4h
   .db 042h, 04Ch, 06Bh, 08Bh, 013h, 01Fh, 0BBh, 093h, 08Bh, 0FCh
   .db 019h, 01Ch, 03Ch, 0ECh, 04Dh, 0E5h, 075h					;End of security data used with signing
   .db 80h,7Fh										;Field: Program Image length 
   .db 0,0,0,0											;Length=0, N/A 
   .db 000h, 000h, 000h, 000h								;padding
   .db 000h, 000h, 000h, 000h								;padding
   .db 000h, 000h, 000h, 000h								;padding
   .db 000h, 000h, 000h, 000h								;padding

prog_start1:
	bcall(_RunIndicOff)
prog_start:
	bcall(_ClrLCDFull)
	bcall(_HomeUp)
	ld hl,sSelectApp
	call PutSApp
	call IGetKey
	bcall(_ClrLCDFull)
	bcall(_HomeUp)
	bjump(_JForceCmdNoChar)


PutSApp:
IPutS:
	ld     a,(hl)
	inc    hl
	or     a
	ret    z
	call   IPutC
	jr     IPutS

IPutC:
	push   hl ;don't think these are necessary
	push   bc
	bcall(_PutC)
	pop    bc
	pop    hl
	ret
	
IGetKey:
	push ix
	push bc
	push de
	push hl
	res onInterrupt,(iy+onFlags)
	bcall (_GetKey)
	pop hl
	pop de
	pop bc
	pop ix
	ret

INewLine:
	push af
	push de
	push bc
	push hl
	push ix
	bcall(_NewLine)
	pop ix
	pop hl
	pop bc
	pop de
	pop af
	ret


sSelectApp:
;            1234567890123456
	.db "This is not a    "
	.db "real app, it is  "
	.db "storage for the  "
	.db "84+ boot code.   "
	.db "Press key to quit"
.end
end
